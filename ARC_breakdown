MASTER DOCUMENT GENERATION — BUILD RULES (FINALIZED, NON-BLOCKING, RENDERED BY DEFAULT — ARC_CODE PROVIDED)

THIS TEMPLATE PRODUCES A FULL ARC DOCUMENT MADE OF:
• FILE HEADER (filename line using ARC_CODE)
• PAGE 1 (ARC TITLE + ARC DESCRIPTION)
• PAGE 2+ (SECTION PAGES — each section is its own page)
• Section pages repeat this exact structure for every section in the arc.

GLOBAL FORMATTING RULES:
• ASCII only. Straight quotes. No emojis.
• Do NOT use rich-text/Markdown markers (no **, __, _, ~, #, backticks).
• Do not rewrite, summarize, or “improve” user text EXCEPT where explicitly permitted below.
• Preserve capitalization and punctuation exactly.
• Print fields exactly as labeled. No extra commentary or extra lines.

OUTPUT MODE SWITCHES (NON-BLOCKING — NEVER PROMPT):
• RAW_WITH_MARKERS:
  - Absent or FALSE → emit RENDERED (no [LB]/[SP] tokens).
  - TRUE → emit RAW WITH MARKERS (use [LB]/[SP]).
• SECTION_TITLES:
  - Absent → INCLUDE section titles (canonical default).
  - OMIT → omit section titles entirely.
(If neither switch is present, assume RENDERED + INCLUDE. Never ask for confirmation.)

------------------------------------------------------------
FILE HEADER — ARC_CODE (PROVIDED BY USER)
------------------------------------------------------------
Requirement:
• The ARC_CODE is provided in the prompt. Use it EXACTLY as given. Do not alter, expand, or auto-generate.

Filename line (MUST BE FIRST OUTPUT LINE):
• RENDERED: <ARC_CODE>_arc_breakdown.txt
• RAW: <ARC_CODE>_arc_breakdown.txt[LB]
• After the filename line: exactly one blank line (RENDERED) or one [SP] (RAW).
• If ARC_CODE is missing, stop and output a single line: MISSING ARC_CODE

------------------------------------------------------------
PAGE 1 — ARC TITLE + ARC DESCRIPTION — BUILD RULES
------------------------------------------------------------
Inputs:
• ARC Name
• ARC Description

Output (RENDERED default):
<blank line>
ARC TITLE:  [ARC Name]
<blank line>
Description:  [ARC Description paragraph(s)]
<blank line>

Output (RAW):
[SP]
ARC TITLE:  [ARC Name][LB]
[SP]
Description:  [ARC Description paragraph(s)][LB]
[SP]

Non-blocking:
• If ARC Name and ARC Description exist, print them as-is. Only prompt if a field is missing.

Formatting:
• Labels are plain text. “ARC TITLE:” and the name appear on the same line.
• “Description:” and the description appear on the same line.
• Exactly one blank line (or [SP]) between blocks. No leading blank lines before the filename line.

------------------------------------------------------------
SECTION DESCRIPTION & BENEFIT — MICRO-RULE ENFORCEMENT (NO PROMPTS)
------------------------------------------------------------
Purpose:
• Ensure Section Description and Section Benefit match canonical one-line formats.

Rule:
• ALWAYS output each as a SINGLE sentence using the templates below. This normalization is the ONLY permitted rewrite and is NON-BLOCKING.

Templates:
• Section Description:
  This section is about [gain 1], [gain 2], and [gain 3] so [practical outcome].
• Section Benefit:
  The benefit of this section is that you will [benefit 1], [benefit 2], [benefit 3], and [benefit 4].

Normalization algorithm (deterministic):
1) From the supplied text, extract up to three core “gains.” If >3, pick the central three; if <3, borrow missing items from the section’s Benefit text.
2) Derive one practical outcome clause from the same source (or Benefit if clearer).
3) Compress the Benefit to one sentence with up to four comma-separated items, preserving meaning without adding claims.
4) Plain present tense; simple words; ASCII only.
5) Do not invent new domain content; only recombine/shorten what was supplied.

Precedence:
• If user lines already match the templates exactly, print them unchanged.
• Otherwise normalize per the algorithm. Do NOT prompt.

------------------------------------------------------------
PAGE 2+ — SECTION PAGES — BUILD RULES
------------------------------------------------------------
Inputs per section:
• Section Number (integer)
• Section Title (text)
• Section Description (paragraph or one-liner; will be normalized)
• Section Benefit (paragraph or one-liner; will be normalized)

Inputs for all jumps:
For each jump:
• Jump Title
• Jump Type
• Jump Description
• Jump Benefit (may contain multiple sentences)
• Jump Section Reference (e.g., "Section 2: Learning That Sticks")

Parsing:
• Jump numbering follows provided sequence and continues across sections.
• Section membership derives from Jump Section Reference.
• Jumps are grouped by their Section Reference and printed in that group’s order.

OUTPUT WHEN SECTION_TITLES = INCLUDE (default)
• RENDERED:
  <blank line>
  Section [Section Number]: [Section Title]
  Description: [Section Description (normalized)]
  Benefit: [Section Benefit (normalized)]
  <blank line>
  Jump [jump number]
  [Jump Title]
  Jump Type: [Jump Type]
  Description: [Jump Description]
  Benefit: [Jump Benefit]
  <blank line>
  (Repeat Jump block for all jumps. Leave exactly one blank line after each Jump block and after the final Jump of the section.)

• RAW:
  [SP]
  Section [Section Number]: [Section Title][LB]
  Description: [Section Description (normalized)][LB]
  Benefit: [Section Benefit (normalized)][LB]
  [SP]
  Jump [jump number][LB]
  [Jump Title][LB]
  Jump Type: [Jump Type][LB]
  Description: [Jump Description][LB]
  Benefit: [Jump Benefit][LB]
  [SP]
  (Repeat; include one [SP] after the final Jump of the section.)

OUTPUT WHEN SECTION_TITLES = OMIT
• RENDERED:
  <blank line>
  Description: [Section Description (normalized)]
  Benefit: [Section Benefit (normalized)]
  <blank line>
  (then the Jump blocks exactly as above)

• RAW:
  [SP]
  Description: [Section Description (normalized)][LB]
  Benefit: [Section Benefit (normalized)][LB]
  [SP]
  (then the Jump blocks exactly as above)

Formatting:
• Do not edit Jump fields. Preserve capitalization and punctuation.
• Section Description/Benefit may be normalized ONLY as defined above.
• No extra lines or commentary.
```
